<!DOCTYPE html>
<html>
 <head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 화면크기맞게 조정 -->
	<title>Insert title here</title>
	<style>
		#here {border:5px dotted gray;}
		input+span{}
	</style>
	<script>
		window.onload = function(){
			hh = document.getElementById("here");
			btn1.onclick = f1;
			btn2.onclick = f2;
			btn3.onclick = f3;
			btn4.onclick = f4;
			btn5.onclick = f5;
			btn6.onclick = f6;
			document.querySelector("#btn7").onclick = f7;
			btn8.onclick = f8;
			
			var arr = document.querySelectorAll("input[type='checkbox']");
			arr.forEach(function(elt, i, array) {
				elt.onchange = call2;
			});	
		};
		function call2(){
			//alert("변경됨");
			//console.log(this.checked);
			console.dir(this); //this는 onchange되는 객체
			if(this.checked){
				this.nextElementSibling.style.backgroundColor="pink";
			}else{
				this.nextElementSibling.style.backgroundColor="whites";
			}
		}
		
		function f1(){
			var element_node = document.createElement("h2"); //<h2></h2>
			var text_node = document.createTextNode("Hello~~");
			element_node.appendChild(text_node);
			console.log(element_node); //<h2>Hello~~</h2>
			
			var here = document.getElementById("here");
			hh.appendChild(element_node);
		}
		function f2(){
			hh.innerHTML += "<h2>Hello~~</h2>";
		}
		function f3(){
			/* var here = document.getElementById("here");
			var imgsrc = "../images/pf.jpg";
			here.innerHTML += `<img src='${imgsrc}'>`; */
			call();
		}
		function call(){
			var obj = {};
			obj.src = "";
			var imgsrc = "../images/pf.jpg";
			var element_node = document.createElement("img"); //<img>
			//element_node.src = imgsrc;
			element_node.setAttribute("src", imgsrc);
			element_node.setAttribute("width", 300);
			element_node.setAttribute("height", 200);
			
			hh.appendChild(element_node);
		}
		function f4(){
			var arr = document.getElementsByName("food");
			arr.forEach(function(elt, i, array){
				//alert(elt.value);
				hh.innerHTML += "<br>"+elt.value+"==>"
				hh.innerHTML += elt.checked?"선택O":"선택X";
			});
		}
		function f5(){
			var arr = document.getElementsByTagName("button");
			console.dir(arr);
			for(var index=0;index<arr.length;index++){
				hh.innerHTML += "<br>"+arr[index].innerHTML;
			}
		}
		function f6(){
			var arr = document.querySelectorAll("button");
			for(var index=0;index<arr.length;index++){
				hh.innerHTML += "<br>"+arr[index].innerHTML;
			}
			var arr = document.querySelectorAll("input[name='food']");
			for(var index=0;index<arr.length;index++){
				hh.innerHTML += "<br>"+arr[index].value;
			}
			var arr = document.querySelectorAll("input:checked");
			/* for(var index=0;index<arr.length;index++){
				hh.innerHTML += "<hr>"+arr[index].value;
			} */
			arr.forEach(function(elt,index,array){
				hh.innerHTML += "<hr>" +elt.value;
			})
		}
		function f7(){
			var arr = document.querySelectorAll("button");
			arr.forEach(function(elt,i,array) {
				if(i%2==0){
					elt.style.backgroundColor = "blue";
					elt.style.color = "white";
				}else{
					elt.style.border = "1px solid red";
				}
			});
		}
		function f8(){
			hh.parentNode.removeChild(hh);
			var obj = document.querySelector(".foodSelect");
			obj.parentNode.removeChild(obj);
			
			var obj = document.querySelector(".foodSelect");
			obj.parentNode.removeChild(obj);
			
			var arr = document.querySelectorAll("#here");
			arr.forEach(function(elt, i, array) {
				elt.parentNode.removeChild(elt);
			});
		}
		
	</script>
 </head>
 <body>
 	<h1>DOM(Document Object Model)</h1>
 	<button id="btn1">동적노드생성(create)</button>
 	<button id="btn2">동적노드생성(innerHTML)</button>
 	<button id="btn3">동적노드생성(img)</button>
 	<button id="btn4">getElementsByName</button>
 	<button id="btn5">getElementsByTagName</button>
 	<button id="btn6">querySelectorAll</button>
 	<button id="btn7">style변경</button>
 	<button id="btn8">node지우기</button>
  	<hr>
 	<div id="here">여기1</div>
 	<div id="here">여기2</div>
 	<div class="foodSelect">
 		<input type="checkbox" name="food" value="비빔밥"><span>비빔밥</span>
 		<input type="checkbox" name="food" value="샐러드"><span>샐러드</span>
 		<input type="checkbox" name="food" value="짜장면"><span>짜장면</span>
 	</div>
 </body>
</html>